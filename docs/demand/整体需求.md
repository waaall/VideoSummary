整体需求（可配置后端管线）

目标：不固定“下载 → 抽音频 → 转录 → 解析字幕”，而是提供可配置的 DAG 管线；同一套能力适配 URL 与本地视频。

1. 输入类型
   - URL：优先尝试字幕；**不强制先下载视频**，先获取元数据/时长即可进入字幕校验。
   - 本地：已有 `video_path`，跳过下载步骤。

2. URL 流程（字幕优先）
   2.1 元数据/时长获取（FetchMetadata）
   2.2 下载字幕 → 解析字幕 → 校验字幕有效性
       - 有效：直接 LLM 总结
       - 无效/无字幕：按需下载或拉流视频 → 抽音频 → 转录 → 无声判断
           - 无声：抽帧 → VLM 总结 → 合并总结
           - 非无声：文本总结

3. 本地视频流程
   3.1 上传/输入本地视频（UploadLocal）
   3.2 抽音频 → 转录 → 无声判断
       - 无声：抽帧 → VLM 总结 → 合并总结
       - 非无声：文本总结

4. 关键判定口径（可配置）
   - 字幕有效性：`coverage_ratio >= 0.8` 且字幕密度/长度达到阈值（避免“覆盖率够但内容过少”）。
   - 无声判断：结合 `audio_rms` 与 `transcript_token_count / duration`；建议配置为可组合规则（例如二阶段或 AND/OR 可切换）。

5. 流程落地方式
   - 采用 **单 DAG + source_type 条件边** 的方式覆盖 URL 与本地分支。
   - 字幕下载与视频下载解耦；视频仅在需要抽音频/抽帧时下载或拉流。
